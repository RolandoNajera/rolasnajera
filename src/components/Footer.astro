---
import site from "../site.config.json";
import { Icon } from "astro-icon/components";
const year = new Date().getFullYear();
const social = site.social || {};
const blogUrl = site.substackUrl || social.substack;

const links: { href: string; label: string; icon: string }[] = [
  social.instagram && { href: social.instagram, label: "Instagram", icon: "tabler:brand-instagram" },
  social.linkedin && { href: social.linkedin, label: "LinkedIn", icon: "tabler:brand-linkedin" },
  social.substack && { href: social.substack, label: "Substack", icon: "tabler:rss" },
].filter(Boolean) as any;
---
<footer class="border-t border-gray-200 dark:border-gray-800 mt-16">
  <div class="container-base py-12 flex flex-col gap-8">
    <div class="flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between">
      <div class="text-sm text-gray-600 dark:text-gray-400">
        © {year} Rolas Najera. Todos los derechos reservados.
      </div>
      <nav class="flex items-center gap-3">
        {links.map((item) => (
          <a
            href={item.href}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={item.label}
            class="inline-flex h-10 w-10 items-center justify-center rounded-full border border-gray-200 dark:border-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 transition"
          >
            <Icon name={item.icon} class="h-5 w-5" />
          </a>
        ))}
      </nav>
    </div>

    {blogUrl && (
      <div>
        <a
          href={blogUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="text-sm font-medium text-gray-900 dark:text-gray-100 underline underline-offset-4 hover:text-gray-700 dark:hover:text-gray-300"
        >
          Leer el blog →
        </a>
      </div>
    )}
  </div>
</footer>
